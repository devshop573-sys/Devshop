<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Dev Cheat Shop</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">

<style>
:root{
  --bg:#0b1220;
  --card:#141c2f;
  --text:#e5e7eb;
  --primary:#38bdf8;
  --accent:#22c55e;
  --shadow:rgba(0,0,0,.6);
}
*{box-sizing:border-box;font-family:Roboto;margin:0;padding:0}

body{
  background:
    linear-gradient(270deg, rgba(11,18,32,0.8), rgba(13,15,27,0.8), rgba(27,11,47,0.8), rgba(11,18,32,0.8)),
    url('back.png') no-repeat center center fixed;
  background-size: cover;
  animation: moveBg 50s linear infinite;
  color: var(--text);
}
@keyframes moveBg{
  0%{background-position:0 0;}
  50%{background-position:100% 100%;}
  100%{background-position:0 0;}
}

header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:20px 40px;
  border-bottom:1px solid #1f2937;
  position:sticky;
  top:0;
  background:rgba(11,18,32,0.9);
  z-index:99;
  backdrop-filter:blur(10px);
}

header h1{color:var(--primary)}

nav{
  display:flex;
  gap:20px;
  flex:1; 
  margin-left: 400px;
}
nav a{
  font-weight:700;
  cursor:pointer;
  color:#fff;
  transition:.3s;
}
nav a:hover{
  color:var(--accent);
}

section{padding:80px 30px;max-width:1200px;margin:auto}
h2{text-align:center;margin-bottom:40px;color:var(--primary)}

#authSection{display:flex;gap:40px;justify-content:center;flex-wrap:wrap;margin-bottom:50px;}
.authBox{background:var(--card);padding:30px;border-radius:20px;width:350px}

form{max-width:400px;margin:auto}
input,textarea,select{
  width:100%;padding:14px;margin:10px 0;
  border-radius:10px;border:none;background:#1f2937;color:#fff;font-size:16px
}
input:focus,textarea:focus,select:focus{background:#252f46;box-shadow:0 0 10px var(--primary)}
button{padding:14px;border-radius:10px;border:none;font-weight:700;cursor:pointer}

.products{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:25px;
}

@keyframes float{
  0% {transform: translateY(0px);}
  50% {transform: translateY(-10px);}
  100% {transform: translateY(0px);}
}
@keyframes floatLR{
  0% {transform: translateX(0px);}
  50% {transform: translateX(8px);}
  100% {transform: translateX(0px);}
}

.product{
  background:var(--card);
  border-radius:18px;
  box-shadow:0 15px 35px var(--shadow);
  overflow:hidden;
  transition: all 0.4s ease, transform 0.3s;
  animation: float 4s ease-in-out infinite, floatLR 6s ease-in-out infinite;
  position: relative;
  cursor: pointer;
  perspective: 1000px;
}
.product:hover{
  transform: rotateY(10deg) rotateX(5deg) scale(1.05);
  box-shadow:0 25px 45px var(--shadow);
}
.product::before{
  content:"";
  position:absolute;
  top:-2px; left:-2px; right:-2px; bottom:-2px;
  border-radius:20px;
  background: linear-gradient(45deg, #ff0055, #38bdf8, #22c55e, #facc15, #ff0055);
  background-size: 300% 300%;
  z-index:0;
  opacity:0;
  transition:0.5s;
  animation: gradientBorder 5s ease infinite;
}
@keyframes gradientBorder{
  0%{background-position:0% 50%;}
  50%{background-position:100% 50%;}
  100%{background-position:0% 50%;}
}
.product:hover::before{
  opacity:1;
  filter: drop-shadow(0 0 10px #facc15) drop-shadow(0 0 15px #38bdf8);
}

.product img{
  width:100%;
  height:180px;
  object-fit:cover;
  border-radius:16px 16px 0 0;
  z-index:1;
  position:relative;
}
.product h3, .price, .product button{
  position:relative;
  z-index:1;
}
.product h3{
  margin:15px;
  font-size:18px;
  color:#fff;
  text-shadow: 1px 1px 5px rgba(0,0,0,0.7);
}
.price{
  color:var(--accent);
  margin:0 15px;
  font-weight:700;
  transition:0.3s;
}
.product:hover .price{
  color:#facc15;
}
.product button{
  margin:15px;width:calc(100% - 30px);padding:14px;
  border:none;border-radius:12px;
  background:linear-gradient(135deg,#38bdf8,#2563eb);
  color:#fff;font-weight:700;transition:.3s;
}
.product button:hover{
  background:linear-gradient(135deg,#2563eb,#22c55e);
  transform:scale(1.05);
}

.product.selected{
  box-shadow: 0 0 40px 8px #facc15;
  transform: scale(1.1) rotateY(0deg) rotateX(0deg);
  border:2px solid #facc15;
}

#paymentModal{position:fixed;inset:0;background:rgba(0,0,0,.85);display:none;justify-content:center;align-items:center;z-index:999}
.modal{background:var(--card);padding:30px;border-radius:20px;max-width:420px;width:90%;text-align:center}
.modal img{width:200px;margin-top:15px}

#cartIcon{position:fixed;top:20px;right:20px;background:var(--accent);padding:10px 15px;border-radius:50px;color:#000;font-weight:700;cursor:pointer;z-index:100;display:flex;align-items:center;}
#cartIcon span{margin-left:5px;font-size:14px;background:#fff;color:#000;padding:2px 6px;border-radius:50%}
#cartPanel{position:fixed;top:0;right:-400px;width:400px;height:100%;background:var(--card);box-shadow:-5px 0 20px var(--shadow);padding:20px;transition:.4s;z-index:99;overflow-y:auto;}
#cartPanel.active{right:0;}
.cartItem{display:flex;justify-content:space-between;align-items:center;margin:10px 0;flex-wrap:wrap;}
.cartItem img{width:50px;height:50px;object-fit:cover;border-radius:8px;margin-right:10px;}
.cartItemDetails{flex:1;}
.cartItemDetails p{margin:3px 0;font-size:14px}
.cartItemQty{display:flex;align-items:center;gap:5px}
.cartItemQty input{width:40px;text-align:center}
.cartItem select{margin-top:5px}
.cartItem button{background:#ff0055;color:#fff;border:none;padding:5px 10px;border-radius:5px;cursor:pointer;}
#cartSummary p{margin:10px 0;font-size:14px}
#cartPanel button{width:100%;padding:12px;margin-top:10px;border:none;border-radius:10px;background:linear-gradient(135deg,#38bdf8,#ff0055);color:#fff;font-weight:700;cursor:pointer;}
</style>
</head>
<body>

<header>
  <h1>Dev Shop</h1>
  <nav id="nav">
    <a href="#home">Home</a>
    <a href="#products">Products</a>
    <a href="#feedback">Feedback</a>
    <a id="logout">Logout</a>
  </nav>
</header>

<section id="authSection">
<div class="authBox">
<h2>Register</h2>
<form id="register">
<input id="rname" placeholder="Full Name" required>
<input id="remail" type="email" placeholder="Email" required>
<input id="rpass" type="password" placeholder="Password" required>
<button>Register</button>
</form>
</div>

<div class="authBox">
<h2>Login</h2>
<form id="login">
<input id="lemail" type="email" placeholder="Email" required>
<input id="lpass" type="password" placeholder="Password" required>
<button>Login</button>
</form>
</div>
</section>

<section id="discord" style="padding:60px 30px;text-align:center;background:var(--card);margin:40px auto;border-radius:20px;max-width:800px;">
  <h2 style="color:#7289da;">Join Our Discord Community</h2>
  <p style="color:#cbd5e1;margin:10px 0 20px;">
    Connect with other users, get support, and stay updated with our latest releases.
  </p>
  <p style="color:#fff; background:#1f2937; padding:10px 15px; border-radius:8px; display:inline-block; cursor:text;">
  Owner discord ___panda 
  894624586061205605
  </p>
  <p style="color:#cbd5e1; margin-top:10px;">Copy this link to join our Discord server.</p>
</section>

<section id="home">
<h2>Welcome to Dev Shop</h2>
<h2 style="text-align:center;color:#cbd5e1;line-height:1.6;">
ROCKSTAR , STEAM , FIVEM , GRAFIC FIVEM (ALLIN PRESET/UPDATE PERMONTH)
</h2>
</section>

<section id="products">
<h2>Available Products</h2>
<div class="products" id="productList"></div>
<h2> 
‚ÄúFiveM & Rockstar, Trusted Digital Solutions ‚Ä¢ Secure Payments, Advanced Tools ‚Ä¢ Fast Service ‚Ä¢‚Äù.
</h2> 
</section>

<section id="feedback">
<h2>Feedback</h2>
<form id="feedbackForm">
<input name="name" placeholder="Your Name" required>
<input name="email" type="email" placeholder="Your Email" required>
<textarea name="message" placeholder="Your Message" required></textarea>
<button>Submit</button>
</form>
</section>

<div id="paymentModal">
<div class="modal">
<h3>Enter Your Details</h3>
<form id="customerForm">
 <input name="name" placeholder="Full Name" required>
 <input name="email" type="email" placeholder="Email" required>
 <input name="phone" placeholder="Phone Number" required>
 <input type="date" required>
 <input type="time" required>
 <input name="discordName" placeholder="Discord Name" required>
 <input name="discordID" placeholder="Discord ID" required>
 <button>Continue</button>
</form>
<div id="paymentOptions" style="display:none">
<button id="bankBtn">Bank Transfer Temporary close</button>
<button id="tngBtn">TNG QR</button>
<div id="bankDetails" style="display:none">
<p> </p>
<p><b> </b></p>
</div>
<div id="qrDetails" style="display:none">
<img src="qr.png">
</div>
</div>
<button id="closeModal" style="margin-top:15px">Close</button>
</div>
</div>

<div id="cartIcon">üõí<span id="cartCount">0</span></div>
<div id="cartPanel">
<h2>Your Cart</h2>
<div id="cartItems"></div>
<div id="cartSummary">
<p>Subtotal: RM <span id="subtotal">0</span></p>
<p>Tax (6%): RM <span id="tax">0</span></p>
<p><b>Total: RM <span id="total">0</span></b></p>
</div>
<button id="checkoutBtn">Checkout</button>
<button id="closeCart">Close</button>
</div>

<script>
function logged(){return localStorage.getItem("user")}
function update(){
  document.getElementById("authSection").style.display=logged()?"none":"flex"
  document.querySelectorAll("section").forEach(s=>{if(s.id!=="authSection") s.style.display=logged()?"block":"none"})
  document.getElementById("nav").style.display=logged()?"flex":"none"
}
update()
register.onsubmit=e=>{
  e.preventDefault()
  let users=JSON.parse(localStorage.getItem("users")||"[]")
  users.push({email:remail.value,pass:rpass.value})
  localStorage.setItem("users",JSON.stringify(users))
  alert("Registered! Please login")
}
login.onsubmit=e=>{
  e.preventDefault()
  let users=JSON.parse(localStorage.getItem("users")||"[]")
  let u=users.find(x=>x.email===lemail.value&&x.pass===lpass.value)
  if(u){localStorage.setItem("user",JSON.stringify(u));update()}
  else alert("Invalid login")
}
logout.onclick=()=>{localStorage.removeItem("user");update()}

const products = [
  { name:"FiveM Private Rockstar Account", price:10, img:"Rockstar.png" },
  { name:"STEAM FRESH", price:5, img:"steam.png"},
  { name:"GRAFIC FIVEM (ALLIN PRESET/UPDATE PERMONTH)", price:250, img:"Fivem.png"},
]

const list=document.getElementById("productList")
products.forEach((p,i)=>{
  list.innerHTML+=`
  <div class="product">
  <img src="${p.img}" alt="${p.name}">
  <h3>${p.name}</h3>
  <div class="price">RM ${p.price}</div>
  <button onclick="addToCart(${i})">Add to Cart</button>
  </div>`
})

let cart = []
const cartIconEl = document.getElementById("cartIcon")
const cartPanelEl = document.getElementById("cartPanel")
const cartItemsEl = document.getElementById("cartItems")
const subtotalEl = document.getElementById("subtotal")
const taxEl = document.getElementById("tax")
const totalEl = document.getElementById("total")
const checkoutBtn = document.getElementById("checkoutBtn")
const closeCartBtn = document.getElementById("closeCart")

function addToCart(index){
  const product = products[index]
  const exist = cart.find(i=>i.name===product.name)
  if(exist){exist.qty +=1}else{cart.push({...product, qty:1})}
  updateCart()
  openCart()
}

function updateCart(){
  cartItemsEl.innerHTML=""
  let subtotal = 0
  cart.forEach((item,i)=>{
    let itemHtml = `<div class="cartItem">
      <img src="${item.img}" alt="${item.name}">
      <div class="cartItemDetails">
        <p>${item.name}</p>
        <div class="cartItemQty">
          <button onclick="decreaseQty(${i})">-</button>
          <input type="number" value="${item.qty}" min="1" onchange="changeQty(${i}, this.value)">
          <button onclick="increaseQty(${i})">+</button>
        </div>`;
    

    if(item.name === "LUA ZEYMENU"){
      itemHtml += `<select onchange="changeLuaPrice(${i}, this.value)">
        <option value="8" ${item.price==8?'selected':''}>1 Day RM 8</option>
        <option value="15" ${item.price==15?'selected':''}>1 WEEK RM 15</option>
        <option value="45" ${item.price==45?'selected':''}>1 MONTH RM 45</option>
        <option value="70" ${item.price==70?'selected':''}>LIFETIME RM 70</option>
      </select>`;
    }
    
    itemHtml += `</div>
      <p>RM ${item.price*item.qty}</p>
      <button onclick="removeItem(${i})">Remove</button>
    </div>`;
    
    cartItemsEl.innerHTML += itemHtml
    subtotal += item.price*item.qty
  })
  
  const tax = (subtotal*0.06).toFixed(2)
  const total = (subtotal + parseFloat(tax)).toFixed(2)
  subtotalEl.innerText=subtotal
  taxEl.innerText=tax
  totalEl.innerText=total
  document.getElementById("cartCount").innerText=cart.reduce((a,b)=>a+b.qty,0)
}

function increaseQty(i){cart[i].qty++;updateCart()}
function decreaseQty(i){if(cart[i].qty>1){cart[i].qty--;updateCart()}}
function changeQty(i,v){cart[i].qty=parseInt(v)||1;updateCart()}
function removeItem(i){cart.splice(i,1);updateCart()}
function openCart(){cartPanelEl.classList.add("active")}
closeCartBtn.onclick=()=>cartPanelEl.classList.remove("active")
checkoutBtn.onclick=()=>{cartPanelEl.classList.remove("active");openModal()}

function changeLuaPrice(i, newPrice){
  cart[i].price = parseFloat(newPrice)
  updateCart()
}

document.querySelectorAll('.product').forEach(card=>{
  card.addEventListener('click', ()=>{
    card.classList.toggle('selected');
  });
});

const modal=document.getElementById("paymentModal")
const customerFormEl = document.getElementById("customerForm")
const paymentOptions = document.getElementById("paymentOptions")
const bankBtn = document.getElementById("bankBtn")
const tngBtn = document.getElementById("tngBtn")
const bankDetails = document.getElementById("bankDetails")
const qrDetails = document.getElementById("qrDetails")
const closeModalBtn = document.getElementById("closeModal")

function openModal(){modal.style.display="flex"}
function closeModal(){modal.style.display="none"}

customerFormEl.addEventListener('submit', e=>{
  e.preventDefault();
  const formData = new FormData(customerFormEl);
  fetch('https://formspree.io/f/xgowvrlv', { 
    method: 'POST',
    body: formData,
    headers: { 'Accept': 'application/json' }
  }).then(response=>{
    if(response.ok){
      alert('Details submitted successfully! Now choose your payment method.');
      customerFormEl.style.display='none';
      paymentOptions.style.display='block';
    } else {
      alert('Failed to submit details. Please try again.');
    }
  }).catch(err=>{
    alert('Error submitting details.');
    console.error(err);
  });
});

bankBtn.addEventListener('click', ()=>{ bankDetails.style.display='block'; qrDetails.style.display='none'; });
tngBtn.addEventListener('click', ()=>{ qrDetails.style.display='block'; bankDetails.style.display='none'; });
closeModalBtn.addEventListener('click', ()=>{ modal.style.display='none'; });
const feedbackForm = document.getElementById('feedbackForm');
feedbackForm.addEventListener('submit', e=>{
  e.preventDefault();
  const formData = new FormData(feedbackForm);
  fetch('https://formspree.io/f/xgowvrlv', {
    method: 'POST',
    body: formData,
    headers: { 'Accept': 'application/json' }
  }).then(response=>{
    if(response.ok){
      alert('Feedback submitted successfully!');
      feedbackForm.reset();
    } else {
      alert('Failed to submit feedback.');
    }
  }).catch(err=>{
    alert('Error submitting feedback.');
    console.error(err);
  });
});
</script>
</body>
</html>
